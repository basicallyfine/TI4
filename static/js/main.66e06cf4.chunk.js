(this["webpackJsonpti4-reference"]=this["webpackJsonpti4-reference"]||[]).push([[0],{36:function(t,e,n){t.exports=n(49)},43:function(t,e,n){},44:function(t,e,n){},49:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),l=n(28),r=n.n(l),c=n(8),u=n.n(c),s=n(18),o=n(35),h=n(29),m=n(33),v=n(13),d=n(14),f=n(10),p=n(30),b=n(34),E=n(23),g=n(53),y=n(52),S=n(51),j=n(54),_=n(22),O=(n(31),function(){function t(){Object(v.a)(this,t);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];this.dice=n}return Object(d.a)(t,[{key:"format",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.textOutput=t,this}},{key:"calculate",value:function(){var t=this;this._results={},this._cumulative={};this.dice.map((function(t){return(11-t)/10}));for(var e=function(e){var n=e.toString(2).padStart(t.dice.length,"0"),a=n.replace(/0/g,"").length,i=t.dice.reduce((function(t,e,a){return t*("1"===n[a]?(11-e)/10:1-(11-e)/10)}),1);t._results[a.toString(10)]||(t._results[a.toString(10)]=0),t._results[a.toString(10)]+=i},n=0;n<Math.pow(2,this.dice.length);n+=1)e(n);for(var a=this.dice.length;a>=0;a-=1)this._cumulative[a.toString(10)]=this._results[a.toString(10)],this._cumulative[(a+1).toString(10)]?this._cumulative[a.toString(10)]+=this._cumulative[(a+1).toString(10)]:this._cumulative[a.toString(10)]=this._results[a.toString(10)];return this}},{key:"results",get:function(){if(this._results||this.calculate(),this.textOutput){var t=[];for(var e in this._results)t.push("".concat(e,": ").concat(Math.round(100*this._results[e]),"%"));return t.join("\n")}return this._results}},{key:"cumulative",get:function(){if(this._cumulative||this.calculate(),this.textOutput){var t=[];for(var e in this._cumulative)t.push(">= ".concat(e,": ").concat(Math.round(100*this._cumulative[e]),"%"));return t.join("\n")}return this._cumulative}}]),t}()),k=(n(42),n(43),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.onClick,n=t.children;return i.a.createElement("button",{className:"die-action-button",type:"button",onClick:e},n)}),C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.onUpdate,n=t.onRemove,l=t.value,r=Object(a.useState)(null),c=Object(E.a)(r,2),u=c[0],s=c[1],o=function(t){e(t.activeIndex)};Object(a.useEffect)((function(){u&&u.slideTo(l||0,0)}),[l,u]);for(var h=[],m=1;m<=10;m+=1)h.push(i.a.createElement(S.a,{key:m},m));return i.a.createElement("div",{className:"die-box ".concat(null===l?"inactive":"active")},i.a.createElement(j.a,{direction:"vertical",mousewheel:!0,onSlideChange:o,onInit:function(t){s(t)}},i.a.createElement(S.a,null,null===l?i.a.createElement(k,{disabled:!(u&&u.slideNext),onClick:function(){u.slideTo(1)}},i.a.createElement(_.b,null)):i.a.createElement(k,null,i.a.createElement(_.a,{onClick:n}))),h))},x=function(t){Object(p.a)(n,t);var e=Object(b.a)(n);function n(){var t;return Object(v.a)(this,n),(t=e.call(this)).state={dice:[null]},t.setDice=t.setDice.bind(Object(f.a)(t)),t.setCalculation=t.setCalculation.bind(Object(f.a)(t)),t.renderCalulation=t.renderCalulation.bind(Object(f.a)(t)),t}return Object(d.a)(n,[{key:"componentDidMount",value:function(){g.a.use([y.a]),this.setState({swiperInit:!0})}},{key:"setDice",value:function(t){var e=u.a.filter(t,(function(t){return"number"===typeof t}));u.a.last(e)&&e.push(null),this.setState({dice:e}),this.setCalculation()}},{key:"setCalculation",value:function(){var t=u.a.chain(this.state.dice).filter().sort().value().join(",");if(t!==this.state.valueString){var e=Object(h.a)(O,Object(m.a)(t.split(",").map((function(t){return parseInt(t,10)}))));this.setState({calculator:{results:e.results,cumulative:e.cumulative},valueString:t})}}},{key:"renderCalulation",value:function(){if(!this.state.calculator)return null;var t=[];for(var e in this.state.calculator.results)t.push(i.a.createElement("tr",{key:e},i.a.createElement("th",null,e),i.a.createElement("td",null,Math.round(100*this.state.calculator.cumulative[e]),"%"),i.a.createElement("td",null,Math.round(100*this.state.calculator.results[e]),"%")));return i.a.createElement("table",{className:"calculation-table mt-2"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Hits"),i.a.createElement("th",null,"At least"),i.a.createElement("th",null,"Exactly"))),i.a.createElement("tbody",null,t))}},{key:"render",value:function(){var t=this,e=[];if(this.state.swiperInit)for(var n=function(n){e.push(i.a.createElement(C,{key:n,value:t.state.dice[n],onUpdate:function(e){for(var a=u.a.clone(t.state.dice);void 0===a[n];)a.push(null);a[n]=e,t.setDice(a)},onRemove:function(){var e=u.a.clone(t.state.dice);e.splice(n,1),t.setDice(e)}}))},a=0;a<this.state.dice.length;a+=1)n(a);var l=u.a.chain(this.state.dice).filter().groupBy().toPairs().map((function(t){var e=Object(E.a)(t,2),n=e[0],a=e[1];return"".concat(n,"\xd7").concat(a.length)})).value();return i.a.createElement("div",{className:"container rolling-calculator my-2"},i.a.createElement("h1",null,"Set some dice to see some numbers"),i.a.createElement("div",{className:"dice-container my-2"},e),l.length>0&&i.a.createElement("h4",null,"Rolling for: ",l.join(", ")),this.renderCalulation())}}]),n}(a.Component),w=(n(44),Object(o.a)()),M=function(){return i.a.createElement(s.b,{history:w},i.a.createElement(s.c,null,i.a.createElement(s.a,{path:"/",component:x})))};r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(M,null)),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.66e06cf4.chunk.js.map